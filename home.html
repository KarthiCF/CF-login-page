<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/84293646a5.js" crossorigin="anonymous"></script>
    <script defer src="home.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet"> 
    <title>Data base</title>
  </head>
  <body>
    <section id="data-bg" class="container">
      <div class="container" >
        <!-- As a link -->
        <nav class="navbar navbar-light bg-light " style="justify-content: flex-start;">
          <div class="container-sm">
            <a class="navbar-brand" href="signup.html">Sign up</a>
            <a class="navbar-brand" href="index.html">Log in</a>
          </div>
        </nav>

        
        <div class="table-responsive">
          <h1 class="text-center text-success mt-4 mb-1 mx-4" ><strong>USER DETAILS</strong></h1>
          <br>
        </div>  
        <div class=" d-flex justify-content-center">
          <form class=" w-50  DataForm">
              <input type="text" class="form-control m-2" placeholder="First Name" autocomplete="off" id="fname">
              <input type="text" class="form-control m-2" placeholder="Last Name" autocomplete="off" id="lname">
              <input type="text" class="form-control m-2" placeholder="User Name" autocomplete="off" id="uname">
              <input type="text" class="form-control m-2" placeholder="Phone" autocomplete="off" id="phone">
              <input type="text" class="form-control m-2" placeholder="Email" autocomplete="off" id="mail">

              
          </form>
          
          
        </div>
        <div class="d-flex justify-content-center mt-2 mb-4">
          <button class="btn btn-success text-center">Add</button>
        </div>
      </div>
          <table class="table table-bordered table-striped" id="display">
            <tr class="bg-primary text-white" >
              <th>S.NO</th>
              <th>FIRST NAME</th>
              <th>LAST NAME</th>
              <th>USER NAME</th>
              <th>PHONE</th>
              <th>EMAIL ADDRESS</th>
              <th>EDIT</th>
              <th>DELETE</th>
              
            
            </tr>
            
            <tbody id="data_stored_table" ></tbody>
            
            
          </table>
    </div>      
    </section>
    
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


  </body>
  <script>
    var n = 1;
    var x = 0;
    
    displayDetails();
    dd();
  
    function displayDetails(){
    
      const storedInfo = localStorage.getItem('User_Info'); 
      const storedInfoArray = JSON.parse(storedInfo)


     
  
      
      
      var display = document.getElementById('display')
      var newRow = display.insertRow(n)

      var cell1 = newRow.insertCell(0);
      var cell2 = newRow.insertCell(1);
      var cell3 = newRow.insertCell(2);
      var cell4 = newRow.insertCell(3);
      var cell5 = newRow.insertCell(4);
      var cell6 = newRow.insertCell(5);
      var cell7 = newRow.insertCell(6);
      var cell8 = newRow.insertCell(7);



      
      cell1.innerHTML = n
      cell2.innerHTML = storedInfoArray[x].first_name
      cell3.innerHTML = storedInfoArray[x].last_name
      cell4.innerHTML = storedInfoArray[x].user_name
      cell5.innerHTML = storedInfoArray[x].phone_number
      cell6.innerHTML = storedInfoArray[x].email_address
      cell7.innerHTML = '<td ><i class="fas fa-edit" id="btnedit" ></i></td>'
      cell8.innerHTML = '<td ><i class="fas fa-trash-alt" id="btndel" onclick="dd()" ></i></td>'
      // console.log("Row index is: " + n)
      // console.log("length" + display.rows.length)
      n++;
      x++;
      // console.log("down " + n)
      // console.log("down " + x)
      // console.log(storedInfoArray[x].user_name)
      // console.log(localStorage.getItem('User_Info'))
      // console.log(storedInfoArray.length)

      
    
      displayDetails();  // AGAIN CALLING THIS FUNCTION FOR INSERTING TO NEXT ROW (with m)
   
      dd();
    }
    function dd(){
      console.log("Row index is: " + n)
      document.getElementById("display").deleteRow(n)
      console.log(n)
      console.log(x)                                
    };
   
    
</script>
  
</html>


<!-- onclick="delrow()" -->